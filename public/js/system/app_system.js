// Generated by CoffeeScript 1.9.3
window.App = {
  Models: {},
  Views: {},
  Collections: {},
  InitViews: {},
  InitModels: {},
  InitCollections: {},
  Objects: {
    socket: {}
  },
  Functions: {},
  Data: {
    serverhost: 'https://webconsult-ptretyakov.c9.io/',
    sockethost: 'https://webconsult-node-server-ptretyakov.c9.io'
  }
};

App.Functions.getSocket = function() {
  if (Object.keys(App.Objects.socket)) {
    console.log('Инициализация сокета');
    App.Objects.socket = io(App.Data.sockethost);
    App.Objects.socket.on('disconnect', function() {
      return console.error('отключился от соккета!');
    });
    return App.Objects.socket.on('reconnect', (function(_this) {
      return function() {
        App.Objects.socket.emit('addConsultant', {
          data: 'some data'
        });
        return console.info('Успешно переподключение к соккету');
      };
    })(this));
  } else {
    console.log('Возвращаем объект сокета');
    return App.Objects.socket;
  }
};
